@using Bidder.DashBoard.Helpers
@inject Bidder.DashBoard.Resources.SharedViewLocalizer _shardLocalizer
@using Microsoft.AspNetCore.Http
@using Bidder.Data.HelpersAttributes
@using Bidder.Data.Interfaces
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@inject Bidder.Data.Interfaces.IUnitOfWork UnitOfWork
@{ int? tmpId = HttpContextAccessor.HttpContext.Session.GetInt32("UserID");
                int userId = tmpId ?? 0;
                var helper = new HelperMethods(UnitOfWork); }

<div class="sidebar-wrapper sidebar-theme">

    <nav id="compactSidebar">
        <ul class="menu-categories">
            @if (helper.InRole("roleController", "index", userId))
            {
<li class="menu">
    <a href="#dashboard" data-active="true" class="menu-toggle">
        <div class="base-menu">
            <div class="base-icons">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </div>
        </div>
    </a>
    <div class="tooltip">
        <span>@_shardLocalizer.GetLocalizedString("Dashboard")</span>
    </div>
</li>}
        </ul>
    </nav>

    <div id="compact_submenuSidebar" class="submenu-sidebar">

        <div class="theme-brand-name">
            <a href="/">Bidder</a>
        </div>
        <div class="submenu" id="dashboard">
            <div class="category-info">
                <h5>@_shardLocalizer.GetLocalizedString("Dashboard")</h5>
            </div>

            <ul class="submenu-list" data-parent-element="#dashboard">
                @if (helper.InRole("roleController", "index", userId))
                {
            <li>
                <a href="/role">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                    </svg>
                    @_shardLocalizer.GetLocalizedString("Managerole")
                </a>
            </li>
}
                @if (helper.InRole("permissionsController", "index", userId))
                {
            <li>
                <a href="/permissions">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                    </svg>
                    @_shardLocalizer.GetLocalizedString("ManagePermission")
                </a>
            </li>
}
                @if (helper.InRole("WeaponsController", "index", userId))
                {
            <li>
                <a href="/weapons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                    </svg>
                    @_shardLocalizer.GetLocalizedString("weapon")
                </a>
            </li>}
                @if (helper.InRole("WeaponsController", "ImportFile", userId))
                {
            <li>
                <a href="/weapons/ImportFile">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                    </svg>
                    إستيراد الطلبة
                </a>
            </li>}
                @if (helper.InRole("StudentsController", "Index", userId))
                {
            <li>
                <a href="/Students">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                    </svg>
                    توزيع الطلبة
                </a>
            </li>}
            </ul>
        </div>
    </div>
</div>